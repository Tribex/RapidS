<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: preload/io/urls.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: preload/io/urls.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** Provides basic url reading and writing features
 * --USES APACHE COMMONS IO--*/

//import packages
require(Packages.java.net.URL);
require(Packages.us.derfers.tribex.rapids.Globals);
require(Packages.us.derfers.tribex.rapids.Utilities);
require(Packages.org.apache.commons.io.IOUtils);
require(Packages.org.jdesktop.http.Method);
require(Packages.org.jdesktop.http.async.XmlHttpRequest);

/**
 * A connection to a URL.
 * @param url {String} The url to connect to.
 * @param encoding {String} The encoding to use for the URL
 * @namespace
 */
function urls(url, encoding) {

    //I like to use these to hide variables while maintaining their presence... I feel safer with them. :3
    var url = url;
    var encoding = encoding;

    /**
     * Reads the plain-text content of the urls object's url.
     * @memberof urls
     */
    this.read = function() {
        try {
            var hasRead = IOUtils.toString(new URL(url));
            if (hasRead != "" &amp;&amp; hasRead != " " &amp;&amp; hasRead != null &amp;&amp; hasRead != undefined) {
                return hasRead;
            } else {
                return "Error: URL not found: '"+url+"'.";
            }
        } catch (e) {
            return e.message;
        }
    }

    /**
     * BROKEN: Sends a post request to the URL.
     * @param data {String} The data to send in the post request.
     * @memberof urls
     */
    this.post = function(data) {
        var req = new XmlHttpRequest();
        req.open(Method.POST, url);
        req.send(data);
    }

    /**
     * Kinda works: Sends a get request to the URL.
     * @param data {String} The data to send in the GET request.
     * @memberof urls
     */
    this.get = function(data) {
        try {
            var hasRead = IOUtils.toString(new URL(url+data));
            if (hasRead != "" &amp;&amp; hasRead != " " &amp;&amp; hasRead != null &amp;&amp; hasRead != undefined) {
                return hasRead;
            } else {
                return "Error: URL not found: '"+url+"'.";
            }
        } catch (e) {
            return e.message;
        }
    }
}

/**
 * Returns a urls object with the specified URL and encoding.
 * @param url {String} The web address of the file you are trying to manipulate.
 * @param encoding {String} The encoding of the file at the URL address.
 */
urls.open = function(url, encoding) {
    if (encoding == null) {
        encoding = "UTF-8";
    }

    return new urls(url, encoding);
}

/**
 * Static function to read the plain-text content of a URL.
 * @param url {String} The URL to read from.
 * @param encoding {String} The encoding of the file at the URL.
 */
urls.read = function(url, encoding) {
    if (encoding == null) {
        encoding = "UTF-8";
    }

    try {
        var hasRead = IOUtils.toString(new URL(url), encoding);
        if (hasRead != "" &amp;&amp; hasRead != " " &amp;&amp; hasRead != null &amp;&amp; hasRead != undefined) {
            return hasRead;
        } else {
            return "Error: URL not found: '"+url+"'.";
        }
    } catch (e) {
        return e.message;
    }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Namespaces</h3><ul><li><a href="console.html">console</a></li><li><a href="dialogs.html">dialogs</a></li><li><a href="files.html">files</a></li><li><a href="images.html">images</a></li><li><a href="os.html">os</a></li><li><a href="program.html">program</a></li><li><a href="time.html">time</a></li><li><a href="urls.html">urls</a></li><li><a href="window.html">window</a></li></ul><h3>Global</h3><ul><li><a href="global.html#alert">alert</a></li><li><a href="global.html#confirm">confirm</a></li><li><a href="global.html#hasNext">hasNext</a></li><li><a href="global.html#hasNextLine">hasNextLine</a></li><li><a href="global.html#print">print</a></li><li><a href="global.html#prompt">prompt</a></li><li><a href="global.html#read">read</a></li><li><a href="global.html#readNext">readNext</a></li><li><a href="global.html#readNextLine">readNextLine</a></li><li><a href="global.html#require">require</a></li><li><a href="global.html#require_Java">require_Java</a></li><li><a href="global.html#Worker">Worker</a></li><li><a href="global.html#write">write</a></li><li><a href="global.html#writeLine">writeLine</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-dev</a> on Fri Jan 24 2014 15:59:30 GMT+0800 (HKT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
