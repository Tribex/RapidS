<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: preload/dialogs/fileDialog.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: preload/dialogs/fileDialog.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
/**
 * Opens the system file dialog to either load or save.
 * OPTS Object Example:
 * {
 *  mode : 'load',
 *  directory : '.',
 *  filename : "test.txt",
 *  title : 'File Dialog',
 *  multiple: false
   }
 * @param opts {object} A object containing the configuration values for the fileDialog.
 * @return {object} An object with properties; (directory: LAST VIEWED DIRECTORY, filename: SELECTED FILE)
 */
dialogs.fileDialog = function(opts) {

    //Check to make sure that a proper mode is always set.
    if (opts.mode === null || opts.mode === undefined) {
        //Default to load
        opts.mode = "l";
    } else {
        switch (opts.mode) {
        case "load":
            //Reduce the mode to a letter, easier to use.
            opts.mode = "l";
            break;
        case "save":
            //Reduce the mode to a letter, easier to use.
            opts.mode = "s";
            break;
        case "l":
            break;
        case "s":
            break;
        default:
            //Again, default to load
            opts.mode = "l";
        }
    }

    //Set the title of the dialog if it doesn't exist
    if (opts.title == null || opts.title == undefined) {
        opts.title = "Open File";
    }
    //Create the dialog
    var fd = new FileDialog(new Packages.javax.swing.JFrame(), opts.title);
    //If the mode is 'load'
    if (opts.mode == "l") {
        //Set the dialog to load mode.
        fd.setMode(FileDialog.LOAD);
    } else if (opts.mode == "s") {
        //Set the dialog to save mode.
        fd.setMode(FileDialog.SAVE);
    } else {
        //Display an error if somehow, parameters are missing.
        Utilities.showError("Invalid mode flag in opening file dialog: "+opts.mode);
        return {'file' : null, 'directory' : null};
    }
    //Set to the CWD.
    fd.setDirectory(Globals.getCWD());

    //Set the directory if it exists
    if (opts.directory !== null &amp;&amp; opts.directory !== undefined) {

        //If the user didn't specify the CWD.
        if (!opts.directory == ".") {
            fd.setDirectory(opts.directory);
        }

    }

    //Set the filename if it exists.
    if (opts.filename !== null &amp;&amp; opts.filename !== undefined) {
        fd.setFile(opts.filename);
    }

    if (opts.multi == true || opts.multiple == true) {
        fd.setMultipleMode(true);
    } else {
        fd.setMultipleMode(false);
    }



    fd.setVisible(true);
    var retFilename = fd.getFile();
    if (retFilename === null || retFilename === undefined || retFilename == "" || retFilename == " ") {
        return {'filename' : null, 'directory' : null};
    } else {
        return {'filename' : fd.getFile(), 'directory' : fd.getDirectory()};
    }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Namespaces</h3><ul><li><a href="console.html">console</a></li><li><a href="dialogs.html">dialogs</a></li><li><a href="files.html">files</a></li><li><a href="images.html">images</a></li><li><a href="os.html">os</a></li><li><a href="program.html">program</a></li><li><a href="time.html">time</a></li><li><a href="urls.html">urls</a></li><li><a href="window.html">window</a></li></ul><h3>Global</h3><ul><li><a href="global.html#alert">alert</a></li><li><a href="global.html#confirm">confirm</a></li><li><a href="global.html#hasNext">hasNext</a></li><li><a href="global.html#hasNextLine">hasNextLine</a></li><li><a href="global.html#print">print</a></li><li><a href="global.html#prompt">prompt</a></li><li><a href="global.html#read">read</a></li><li><a href="global.html#readNext">readNext</a></li><li><a href="global.html#readNextLine">readNextLine</a></li><li><a href="global.html#require">require</a></li><li><a href="global.html#require_Java">require_Java</a></li><li><a href="global.html#Worker">Worker</a></li><li><a href="global.html#write">write</a></li><li><a href="global.html#writeLine">writeLine</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-dev</a> on Fri Jan 24 2014 15:59:30 GMT+0800 (HKT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
